[{"/Users/muneeburrehman/WebstormProjects/rsca_frontend/src/index.js":"1","/Users/muneeburrehman/WebstormProjects/rsca_frontend/src/App.js":"2","/Users/muneeburrehman/WebstormProjects/rsca_frontend/src/contexts/PostsContext/postContext.js":"3","/Users/muneeburrehman/WebstormProjects/rsca_frontend/src/pages/Admin/Admin.js":"4","/Users/muneeburrehman/WebstormProjects/rsca_frontend/src/pages/Search/Search.js":"5","/Users/muneeburrehman/WebstormProjects/rsca_frontend/src/hooks/useFormData.js":"6","/Users/muneeburrehman/WebstormProjects/rsca_frontend/src/components/RscaLogo/RscaLogo.js":"7","/Users/muneeburrehman/WebstormProjects/rsca_frontend/src/components/Menu/Menu.js":"8","/Users/muneeburrehman/WebstormProjects/rsca_frontend/src/components/FileUploader/FileUploader.js":"9","/Users/muneeburrehman/WebstormProjects/rsca_frontend/src/components/SigninForm/SigninForm.js":"10","/Users/muneeburrehman/WebstormProjects/rsca_frontend/src/components/User/User.js":"11","/Users/muneeburrehman/WebstormProjects/rsca_frontend/src/components/Date/Date.js":"12","/Users/muneeburrehman/WebstormProjects/rsca_frontend/src/components/NavigationIcon/NavigationIcon.js":"13","/Users/muneeburrehman/WebstormProjects/rsca_frontend/src/pages/PostsPage/PostMapPage.js":"14","/Users/muneeburrehman/WebstormProjects/rsca_frontend/src/components/postList/PostListItem.js":"15","/Users/muneeburrehman/WebstormProjects/rsca_frontend/src/components/postList/PostList.js":"16"},{"size":423,"mtime":1610633928586,"results":"17","hashOfConfig":"18"},{"size":1812,"mtime":1610973962615,"results":"19","hashOfConfig":"18"},{"size":2343,"mtime":1610983267154,"results":"20","hashOfConfig":"18"},{"size":5543,"mtime":1610633928586,"results":"21","hashOfConfig":"18"},{"size":1348,"mtime":1610973962621,"results":"22","hashOfConfig":"18"},{"size":399,"mtime":1610633928585,"results":"23","hashOfConfig":"18"},{"size":270,"mtime":1610633928576,"results":"24","hashOfConfig":"18"},{"size":1158,"mtime":1610975266739,"results":"25","hashOfConfig":"18"},{"size":3682,"mtime":1610633928572,"results":"26","hashOfConfig":"18"},{"size":2325,"mtime":1610643439894,"results":"27","hashOfConfig":"18"},{"size":265,"mtime":1610633928579,"results":"28","hashOfConfig":"18"},{"size":1050,"mtime":1610973962619,"results":"29","hashOfConfig":"18"},{"size":761,"mtime":1610975253772,"results":"30","hashOfConfig":"18"},{"size":4431,"mtime":1610981434731,"results":"31","hashOfConfig":"18"},{"size":2937,"mtime":1610982895122,"results":"32","hashOfConfig":"18"},{"size":4039,"mtime":1610982597266,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1nc7mv3",{"filePath":"36","messages":"37","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"50","messages":"51","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"62","messages":"63","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"64","messages":"65","errorCount":1,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"66"},"/Users/muneeburrehman/WebstormProjects/rsca_frontend/src/index.js",[],"/Users/muneeburrehman/WebstormProjects/rsca_frontend/src/App.js",["67"],"/Users/muneeburrehman/WebstormProjects/rsca_frontend/src/contexts/PostsContext/postContext.js",[],"/Users/muneeburrehman/WebstormProjects/rsca_frontend/src/pages/Admin/Admin.js",[],"/Users/muneeburrehman/WebstormProjects/rsca_frontend/src/pages/Search/Search.js",[],"/Users/muneeburrehman/WebstormProjects/rsca_frontend/src/hooks/useFormData.js",[],"/Users/muneeburrehman/WebstormProjects/rsca_frontend/src/components/RscaLogo/RscaLogo.js",[],"/Users/muneeburrehman/WebstormProjects/rsca_frontend/src/components/Menu/Menu.js",[],"/Users/muneeburrehman/WebstormProjects/rsca_frontend/src/components/FileUploader/FileUploader.js",["68"],"/Users/muneeburrehman/WebstormProjects/rsca_frontend/src/components/SigninForm/SigninForm.js",[],"/Users/muneeburrehman/WebstormProjects/rsca_frontend/src/components/User/User.js",[],"/Users/muneeburrehman/WebstormProjects/rsca_frontend/src/components/Date/Date.js",[],"/Users/muneeburrehman/WebstormProjects/rsca_frontend/src/components/NavigationIcon/NavigationIcon.js",[],"/Users/muneeburrehman/WebstormProjects/rsca_frontend/src/pages/PostsPage/PostMapPage.js",["69","70"],"/Users/muneeburrehman/WebstormProjects/rsca_frontend/src/components/postList/PostListItem.js",["71"],"/Users/muneeburrehman/WebstormProjects/rsca_frontend/src/components/postList/PostList.js",["72","73","74"],"import React, { useContext, useEffect } from \"react\";\nimport PostListItem from \"./PostListItem\";\nimport List from \"@material-ui/core/List\";\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { PostsContext } from \"../../contexts/PostsContext/postContext\";\nimport axios from \"axios\";\nimport { getAccessAuthHeader } from \"../../helpers/localStorage\";\nimport { GET_POST_MARKERS_BY_POST_ID } from \"../../routes\";\nimport { message } from \"antd\";\nimport { authContext } from \"../../contexts/AuthContext/AuthProvider\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n    maxWidth: 360,\n    backgroundColor: theme.palette.background.paper\n  },\n  nested: {\n    paddingLeft: theme.spacing(4)\n  }\n}));\n\nexport default function PostList(props) {\n  const classes = useStyles();\n  const {\n    filteredMarkers,\n    setFilteredMarkers,\n    setMarkerToShow,\n    markers,\n    setCenter,\n    posts,\n    updateMarkersFromResponse,\n    filters,\n    removePostFromFilteredPosts,\n    importPostFromFilteredPosts\n  } = useContext(PostsContext);\n  const { refreshAccessToken, logout } = useContext(authContext);\n\n  function handleMarkerClick(markerID) {\n    console.log(markerID);\n    const marker = filteredMarkers.find((marker) => marker.id === markerID);\n    console.log(marker);\n    setMarkerToShow(marker);\n    setCenter([marker.lat, marker.lon]);\n  }\n\n  useEffect(() => {\n    const fil = markers.filter((marker) => {\n      for (let i = 0; i < marker.classes.length; i++) {\n        if (filters.includes(marker.classes[i])) {\n          return true;\n        }\n      }\n      return false;\n    });\n    setFilteredMarkers(fil);\n  }, [markers, filters, setFilteredMarkers]);\n\n  function handlePostsClick(postIDs) {\n    if (postIDs.length === 0) return;\n    if (markers.find((marker) => marker.postID === postIDs)) {\n      return;\n    }\n    const postClicked = posts.find((post) => post.id === postIDs);\n    setCenter(postClicked.completePath[0]);\n    const idsString = postIDs.toString();\n    const config = {\n      headers: getAccessAuthHeader(),\n\n      params: {\n        post_id: idsString\n      }\n    };\n    const url = GET_POST_MARKERS_BY_POST_ID;\n    axios\n      .get(url, config)\n      .then((response) => {\n        updateMarkersFromResponse(response);\n      })\n      .catch((err) => {\n        if (err.response.status === 401) {\n          //refresh the token\n          refreshAccessToken().then((response) => {\n            //if refresh token is successful\n            const config = {\n              headers: getAccessAuthHeader(),\n\n              params: {\n                post_id: idsString\n              }\n            };\n            //send request again\n            axios\n              .get(url, config)\n              .then(response => {\n                //if data comes successfully then update posts\n                updateMarkersFromResponse(response);\n              }).catch(err => {\n              //if error in second time fetch\n              message.error(err.response.statusText);\n            });\n          }).catch(err => {\n            //if there is error with error in fetching token\n            logout();\n          });\n        }\n        console.log(\"Error Reading data \" + err);\n      });\n  }\n\n\n  return (\n    <List\n      component=\"nav\"\n      aria-labelledby=\"nested-list-subheader\"\n      subheader={\n        <ListSubheader component=\"div\" id=\"nested-list-subheader\">\n          Posts\n        </ListSubheader>\n      }\n      className={classes.root}\n    >\n      {posts.map((post, index) => {\n        var markersOfThisPost = filteredMarkers.filter(\n          (marker) => marker.postID === post.id\n        );\n        return (\n          <PostListItem\n            postTitle={post.title}\n            postID={post.id}\n            markers={markersOfThisPost}\n            onMarkerClick={handleMarkerClick}\n            onPostItemClick={handlePostsClick}\n            innerKey={post.key}\n            key={index}\n          />\n        );\n      })}\n    </List>\n  );\n}\n",{"ruleId":"75","severity":1,"message":"76","line":2,"column":25,"nodeType":"77","messageId":"78","endLine":2,"endColumn":29},{"ruleId":"75","severity":1,"message":"79","line":55,"column":19,"nodeType":"77","messageId":"78","endLine":55,"endColumn":24},{"ruleId":"80","severity":1,"message":"81","line":91,"column":6,"nodeType":"82","endLine":91,"endColumn":13,"suggestions":"83"},{"ruleId":"84","severity":1,"message":"85","line":106,"column":11,"nodeType":"86","endLine":110,"endColumn":13},{"ruleId":"75","severity":1,"message":"87","line":1,"column":29,"nodeType":"77","messageId":"78","endLine":1,"endColumn":38},{"ruleId":"75","severity":1,"message":"88","line":35,"column":5,"nodeType":"77","messageId":"78","endLine":35,"endColumn":32},{"ruleId":"75","severity":1,"message":"89","line":36,"column":5,"nodeType":"77","messageId":"78","endLine":36,"endColumn":32},{"ruleId":"90","severity":2,"message":"91","line":137,"column":31,"nodeType":"77","messageId":"92","endLine":137,"endColumn":53},"no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar","'error' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'logout', 'refreshAccessToken', and 'updatePostsFromResponse'. Either include them or remove the dependency array.","ArrayExpression",["93"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'useEffect' is defined but never used.","'removePostFromFilteredPosts' is assigned a value but never used.","'importPostFromFilteredPosts' is assigned a value but never used.","no-undef","'handleCheckBoxesChange' is not defined.","undef",{"desc":"94","fix":"95"},"Update the dependencies array to be: [dates, logout, refreshAccessToken, updatePostsFromResponse]",{"range":"96","text":"97"},[2879,2886],"[dates, logout, refreshAccessToken, updatePostsFromResponse]"]